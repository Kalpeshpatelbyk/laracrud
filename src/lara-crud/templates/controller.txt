<?php
namespace App\Http\Controllers@@subnamespace@@;

use App\Http\Requests;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use @@fullmodelName@@;

/**
 * Description of @@controllerName@@
 *
 * @author Tuhin
 */

class @@controllerName@@ extends Controller
{

     /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */

    public function index(Request $request) 
    {

        $data = @@modelName@@::q($request->get('q'))->paginate(10);

        return view('@@viewPath@@.index', [
                'records' => $data,
        ]);
    }

     /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */

    public function create() 
    {
         @@belongsToRelation@@

        return view('@@viewPath@@.form', [
            'model' => new @@modelName@@,
            @@belongsToRelationVars@@
        ]);
    }
    
    /**
     * Show the form for editing the specified resource.
     *
     * @param  @@modelName@  $@@modelNameParam@@
     * @return \Illuminate\Http\Response
     */

    public function edit(@@modelName@@ $@@modelNameParam@@) 
    {
                    
        @@belongsToRelation@@

        return view('@@viewPath@@.form', [
                'model' => $@@modelNameParam@@,
                @@belongsToRelationVars@@
            ]);
    }
      /**
     * Display the specified resource.
     *
     * @param  @@modelName@@  $@@modelNameParam@@
     * @return \Illuminate\Http\Response
     */

    public function show(@@modelName@@ $@@modelNameParam@@) 
    {
        return view('@@viewPath@@.details', [
                'record' =>$@@modelNameParam@@
        ]);
       
    }
    /**
     * Store a newly created resource in storage.
     *
     * @param  @@requestClass@@  $request
     * @return \Illuminate\Http\Response
     */

    public function store(@@requestClass@@ $request) 
    {
      
        $model=new @@modelName@@;
        $model->fill($request->all());

        if ($model->save()) {
            @@belongsToManyRelationSync@@

            session()->flash('app_message', 'Data successfully saved');
            return redirect()->route('@@table@@.index');
            } else {
                session()->flash('app_message', 'Something is wrong while saving data');
            }
        return redirect()->back();
    }

    public function destroy(@@modelName@@ $@@modelNameParam@@) 
    {
        if ($@@modelNameParam@@->delete()) {
                session()->flash('app_message', 'Record successfully deleted');
            } else {
                session()->flash('app_error', 'Error occured while deleteing');
            }
        
        return redirect()->back();
    }

     protected function filterRequest($request)
    {
          $model=new @@modelName@@;
            @@requestFiltetr@@
            return $model;
     }

}
